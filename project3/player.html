<html>

<head>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="style.css">
</head>

<body class="d-flex h-100 text-center text-white bg-dark">
    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
        <header class="mb-auto">
            <div>
                <a id="profileheader" href="/"
                    class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-white text-decoration-none">
                    <img class="bi me-2" width="32" height="32"></img>
                    <span class="fs-4">Player</span>
                </a>
            </div>
        </header>

        <main id="app" class="px-3">
            <h1></h1>
            <br>
            <img></img>
            <br><br><br>
            <p class="lead">
            <span>MMR estimation:</span>
            <span id="mmr"></span>
            <br>
            <span>Rank tier:</span>
            <span id="rank"></span>
            </p>
            <p><a id = "steamprofile" class = "text-white" >Steam prfile detail</a>
            </p>
        </main>

        <footer class="mt-auto text-white-50">
            <p>To team page <a class = "text-white" href="index.html">back</a>.
            </p>
        </footer>
        <script>
            let playerid = window.location.search.split("=")[1]
            const url = "https://api.opendota.com/api/players/"
            fetch(url + playerid).then(
                response => response.json()).then(
                    data => {
                        document.querySelector("#app #rank").innerHTML = data.rank_tier
                        document.querySelector("#app #mmr").innerHTML = data.mmr_estimate.estimate
                        document.querySelector("#app img").setAttribute("src", data.profile.avatarfull)
                        document.querySelector("#app h1").innerHTML = data.profile.personaname
                        document.querySelector("#profileheader img").setAttribute("src", data.profile.avatar)
                        document.querySelector("#app #steamprofile").setAttribute("href", data.profile.profileurl)
                    }


                )
                .catch(console.log("Nothing received"))
        //document.querySelector("#app").innerHTML = "heollo"
        </script>
        <!-- JavaScript Bundle with Popper -->
    </div>
</body>

</html>